<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>75Hard Challenge - Strengthen Your Discipline</title>
    <style>
        :root {
            --primary-color: #8A2BE2;
            --primary-light: #9B4DFF;
            --primary-dark: #6A1B9A;
            --secondary-color: #F8F7FC;
            --accent-color: #FF6B8B;
            --accent-light: #FFA5B7;
            --danger-color: #FF4757;
            --success-color: #2ED573;
            --today-color: #FFD700;
            --text-color: #333344;
            --light-text: #777788;
            --border-radius: 12px;
            --box-shadow: 0 4px 20px rgba(138, 43, 226, 0.15);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #F8F7FC 0%, #F0EDF5 100%);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Header Styles */
        header {
            background-color: white;
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(138, 43, 226, 0.1);
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo::before {
            content: "üíú";
            font-size: 1.5rem;
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li {
            margin-left: 1.5rem;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-color);
            font-weight: 500;
            transition: var(--transition);
            cursor: pointer;
            padding: 8px 12px;
            border-radius: var(--border-radius);
        }

        .nav-links a:hover {
            color: var(--primary-color);
            background-color: rgba(138, 43, 226, 0.05);
        }

        .auth-buttons {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-greeting {
            font-weight: 500;
            color: var(--text-color);
        }

        .btn {
            padding: 10px 20px;
            border-radius: var(--border-radius);
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            color: white;
            box-shadow: 0 4px 12px rgba(138, 43, 226, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(138, 43, 226, 0.4);
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
        }

        .btn-outline:hover {
            background-color: rgba(138, 43, 226, 0.05);
        }

        /* Page Sections */
        .page {
            display: none;
            min-height: 80vh;
            padding: 2rem 0;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Hero Section */
        .hero {
            padding: 5rem 0;
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.05) 0%, rgba(255, 107, 139, 0.05) 100%);
            text-align: center;
            border-radius: 0 0 30px 30px;
            margin-bottom: 2rem;
        }

        .hero h1 {
            font-size: 2.8rem;
            margin-bottom: 1.5rem;
            color: var(--text-color);
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2.5rem;
            color: var(--light-text);
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.8;
        }

        .cta-button {
            padding: 14px 35px;
            font-size: 1.1rem;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 12px rgba(138, 43, 226, 0.3);
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(138, 43, 226, 0.4);
        }

        /* Features Section */
        .features {
            padding: 4rem 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 3rem;
            font-size: 2.2rem;
            color: var(--text-color);
            position: relative;
        }

        .section-title::after {
            content: "";
            position: absolute;
            bottom: -10px;
            right: 50%;
            transform: translateX(50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            border-radius: 2px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            background-color: white;
            padding: 2.5rem 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            text-align: center;
            transition: var(--transition);
            border-top: 4px solid var(--primary-color);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(138, 43, 226, 0.2);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .feature-card h3 {
            margin-bottom: 1rem;
            color: var(--text-color);
            font-size: 1.4rem;
        }

        /* FAQ Section */
        .faq {
            padding: 4rem 0;
            background-color: var(--secondary-color);
            border-radius: 30px;
        }

        .faq-item {
            margin-bottom: 1.5rem;
            background-color: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }

        .faq-item:hover {
            box-shadow: 0 6px 18px rgba(138, 43, 226, 0.15);
        }

        .faq-question {
            padding: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 500;
            background-color: white;
            transition: var(--transition);
        }

        .faq-question:hover {
            background-color: rgba(138, 43, 226, 0.03);
        }

        .faq-answer {
            padding: 0 1.5rem;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .faq-answer.active {
            padding: 0 1.5rem 1.5rem;
            max-height: 500px;
        }

        /* Footer */
        footer {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-color));
            color: white;
            padding: 3rem 0 1.5rem;
            margin-top: 3rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-column h3 {
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
            position: relative;
            display: inline-block;
        }

        .footer-column h3::after {
            content: "";
            position: absolute;
            bottom: -8px;
            right: 0;
            width: 40px;
            height: 2px;
            background-color: var(--accent-light);
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 0.8rem;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: var(--transition);
            cursor: pointer;
        }

        .footer-links a:hover {
            color: white;
            padding-right: 5px;
        }

        .copyright {
            text-align: center;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.7);
        }

        /* Auth Forms */
        .auth-container {
            max-width: 450px;
            margin: 2rem auto;
            padding: 2.5rem;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            border-top: 4px solid var(--primary-color);
        }

        .auth-title {
            text-align: center;
            margin-bottom: 1.5rem;
            color: var(--text-color);
            font-size: 1.8rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-color);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #e0e0e0;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(138, 43, 226, 0.1);
        }

        .auth-divider {
            text-align: center;
            margin: 1.5rem 0;
            position: relative;
        }

        .auth-divider::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background-color: #e0e0e0;
        }

        .auth-divider span {
            background-color: white;
            padding: 0 15px;
            color: var(--light-text);
        }

        .btn-google {
            width: 100%;
            padding: 12px;
            background-color: white;
            border: 1px solid #e0e0e0;
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .btn-google:hover {
            background-color: #f5f5f5;
            border-color: #d0d0d0;
        }

        .auth-link {
            text-align: center;
            margin-top: 1.5rem;
        }

        .auth-link a {
            color: var(--primary-color);
            text-decoration: none;
            cursor: pointer;
            font-weight: 500;
        }

        /* Dashboard */
        .dashboard {
            padding: 2rem 0;
        }

        .progress-card {
            background-color: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 2rem;
            border-top: 4px solid var(--primary-color);
        }

        .progress-bar {
            height: 20px;
            background-color: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 1rem 0;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            border-radius: 10px;
            transition: width 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* Updated Days Grid - 5 ŸÖÿ±ÿ®ÿπÿßÿ™ ŸÅŸä ÿßŸÑÿ≥ÿ∑ÿ± */
        .days-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 12px;
            margin-top: 1.5rem;
        }

        .day-box {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: var(--border-radius);
            font-weight: 500;
            cursor: pointer;
            padding: 8px 6px;
            position: relative;
            border: 2px solid #e0e0e0;
            background-color: white;
            transition: var(--transition);
            text-align: center;
            width: 100%;
            min-height: 120px;
        }

        .day-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(138, 43, 226, 0.2);
            border-color: var(--primary-light);
        }

        .day-number {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 4px;
            color: white;
            border: 2px solid var(--primary-light);
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
        }

        .day-date {
            font-size: 0.75rem;
            color: var(--light-text);
            margin-bottom: 8px;
            font-weight: 500;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .day-tasks {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4px;
            width: 100%;
        }

        .task-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 3px;
            padding: 4px 2px;
            border-radius: 4px;
            background-color: #f9f9f9;
            text-align: center;
            transition: var(--transition);
            min-height: 35px;
            position: relative;
        }

        .task-name {
            color: var(--text-color);
            font-weight: bold;
            font-size: 0.6rem;
            text-align: center;
            line-height: 1;
        }

        .task-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            border: 2px solid transparent;
            transition: var(--transition);
        }

        .task-pending {
            background-color: transparent;
            border-color: #e0e0e0;
        }

        .task-completed {
            background-color: var(--success-color);
            border-color: var(--success-color);
        }

        .task-failed {
            background-color: var(--danger-color);
            border-color: var(--danger-color);
        }

        .task-today {
            background-color: var(--today-color);
            border-color: var(--today-color);
        }

        .task-item-completed {
            border: 1px solid var(--success-color);
            background-color: rgba(46, 213, 115, 0.1);
        }

        .task-item-failed {
            border: 1px solid var(--danger-color);
            background-color: rgba(255, 71, 87, 0.1);
        }

        .task-item-today {
            border: 1px solid var(--today-color);
            background-color: rgba(255, 215, 0, 0.1);
        }

        .day-completed {
            border-color: var(--success-color);
            background: linear-gradient(135deg, rgba(46, 213, 115, 0.1), rgba(46, 213, 115, 0.05));
        }

        .day-partial {
            border-color: var(--accent-color);
            background: linear-gradient(135deg, rgba(255, 171, 0, 0.1), rgba(255, 171, 0, 0.05));
        }

        .day-failed {
            border-color: var(--danger-color);
            background: linear-gradient(135deg, rgba(255, 71, 87, 0.1), rgba(255, 71, 87, 0.05));
        }

        .day-pending {
            background-color: white;
            color: var(--text-color);
        }

        .day-current {
            border: 3px solid var(--primary-color);
            box-shadow: 0 0 0 3px rgba(138, 43, 226, 0.2);
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.05), rgba(138, 43, 226, 0.02));
        }

        .day-emoji {
            position: absolute;
            top: 3px;
            left: 3px;
            font-size: 0.9rem;
        }

        .dashboard-actions {
            display: flex;
            gap: 10px;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .go-to-today-btn {
            background: linear-gradient(135deg, var(--accent-color), var(--accent-light));
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
            box-shadow: 0 4px 12px rgba(255, 107, 139, 0.3);
        }

        .go-to-today-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(255, 107, 139, 0.4);
        }

        .error-message {
            background-color: #ffe6e6;
            border: 1px solid var(--danger-color);
            color: var(--danger-color);
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        /* Day View */
        .day-view {
            padding: 2rem 0;
        }

        .day-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            background-color: white;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .task-card {
            background-color: white;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 1.5rem;
            transition: var(--transition);
            border-left: 4px solid var(--primary-color);
        }

        .task-card:hover {
            box-shadow: 0 5px 15px rgba(138, 43, 226, 0.1);
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .task-title {
            font-weight: 500;
            font-size: 1.1rem;
            color: var(--text-color);
        }

        .task-status {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        /* ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑÿ∫ÿ∞ÿßÿ¶Ÿä ÿßŸÑÿ¨ÿØŸäÿØ */
        .meal-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .meal-item:last-child {
            border-bottom: none;
        }

        .meal-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .meal-calories {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .calories-input {
            width: 80px;
            padding: 6px 10px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            text-align: center;
        }

        .total-calories {
            background-color: #f8f9fa;
            padding: 12px 15px;
            border-radius: var(--border-radius);
            margin-top: 15px;
            text-align: center;
            font-weight: bold;
            border: 1px solid #e9ecef;
        }

        /* ÿßŸÑŸÖÿßÿ° ÿßŸÑÿ¨ÿØŸäÿØ */
        .water-bottles {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }

        .bottle-row {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .bottle-icon {
            font-size: 1.5rem;
            color: #4A90E2;
        }

        .bottle-btn {
            padding: 8px 15px;
            background: linear-gradient(135deg, #4A90E2, #63B3ED);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .bottle-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(74, 144, 226, 0.3);
        }

        .bottle-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .water-target {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            padding: 12px 15px;
            background-color: #f8f9fa;
            border-radius: var(--border-radius);
        }

        .target-bottles {
            display: flex;
            gap: 5px;
        }

        .target-bottle {
            font-size: 1.2rem;
            color: #4A90E2;
        }

        /* ÿßŸÑŸÇÿ±ÿßÿ°ÿ© ÿßŸÑÿ¨ÿØŸäÿØÿ© */
        .reading-input-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .pages-input {
            width: 100px;
            padding: 8px 12px;
            border: 1px solid #e0e0e0;
            border-radius: var(--border-radius);
        }

        /* ÿßŸÑÿµŸàÿ±ÿ© ÿßŸÑŸäŸàŸÖŸäÿ© ÿßŸÑÿ¨ÿØŸäÿØÿ© */
        .photo-section {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .photo-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .photo-preview-container {
            text-align: center;
        }

        .photo-preview {
            max-width: 200px;
            max-height: 200px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: var(--transition);
        }

        .photo-preview:hover {
            transform: scale(1.05);
        }

        .photo-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .photo-modal img {
            max-width: 90%;
            max-height: 90%;
            border-radius: var(--border-radius);
        }

        .close-modal {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            font-size: 2rem;
            cursor: pointer;
        }

        /* ÿßŸÑÿ£ÿπŸÖÿßŸÑ ÿßŸÑŸäŸàŸÖŸäÿ© ÿßŸÑÿ¨ÿØŸäÿØÿ© */
        .todo-list {
            margin-top: 15px;
        }

        .todo-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .todo-item:last-child {
            border-bottom: none;
        }

        .todo-content {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
        }

        .todo-text {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #e0e0e0;
            border-radius: var(--border-radius);
        }

        .todo-actions {
            display: flex;
            gap: 5px;
        }

        .add-todo {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .add-todo input {
            flex: 1;
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 0.9rem;
        }

        .btn-success {
            background-color: var(--success-color);
            color: white;
        }

        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }

        .day-actions {
            display: flex;
            gap: 10px;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        /* Settings Page */
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .settings-card {
            background-color: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            border-top: 4px solid var(--primary-color);
        }

        .settings-group {
            margin-bottom: 1.5rem;
        }

        .settings-group h3 {
            margin-bottom: 1rem;
            color: var(--text-color);
            font-size: 1.2rem;
        }

        /* Challenge Start Date */
        .challenge-start {
            background-color: white;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 2rem;
            border-top: 4px solid var(--primary-color);
        }

        .start-date-input {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        /* Admin Users Page */
        .users-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
            background-color: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
        }

        .users-table th,
        .users-table td {
            padding: 12px 15px;
            text-align: right;
            border-bottom: 1px solid #e0e0e0;
        }

        .users-table th {
            background-color: var(--primary-color);
            color: white;
            font-weight: 500;
        }

        .users-table tr:last-child td {
            border-bottom: none;
        }

        .users-table tr:hover {
            background-color: rgba(138, 43, 226, 0.03);
        }

        .user-actions {
            display: flex;
            gap: 5px;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .days-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 992px) {
            .days-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .day-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .dashboard-actions, .day-actions {
                flex-direction: column;
            }
            
            .days-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .day-box {
                min-height: 110px;
                padding: 6px 4px;
            }
            
            .day-number {
                font-size: 1.2rem;
                width: 30px;
                height: 30px;
            }
            
            .day-date {
                font-size: 0.7rem;
            }
            
            .task-name {
                font-size: 0.55rem;
            }

            .meal-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }

            .meal-calories {
                align-self: flex-end;
            }
        }

        @media (max-width: 480px) {
            .days-grid {
                grid-template-columns: 1fr;
            }
            
            .auth-container {
                padding: 1.5rem;
            }
            
            .day-box {
                min-height: 100px;
            }
            
            .task-name {
                font-size: 0.5rem;
            }
        }

        /* Utility Classes */
        .hidden {
            display: none !important;
        }

        .text-center {
            text-align: center;
        }

        .mt-1 {
            margin-top: 1rem;
        }

        .mt-2 {
            margin-top: 2rem;
        }

        .mb-1 {
            margin-bottom: 1rem;
        }

        .mb-2 {
            margin-bottom: 2rem;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <nav class="navbar">
                <div class="logo" onclick="showPage('home')">75Hard</div>
                <ul class="nav-links">
                    <li><a onclick="showPage('home')">Home</a></li>
                    <li><a onclick="showPage('features')">Features</a></li>
                    <li><a onclick="showPage('faq')">FAQ</a></li>
                    <li><a onclick="showPage('contact')">Contact</a></li>
                    <li id="challengeLink" class="hidden"><a onclick="showPage('dashboard')">Challenge</a></li>
                    <li id="adminLink" class="hidden"><a onclick="showPage('adminUsers')">Admin</a></li>
                </ul>
                <div class="auth-buttons" id="authButtons">
                    <button class="btn btn-outline" onclick="showPage('login')">Login</button>
                    <button class="btn btn-primary" onclick="showPage('signup')">Sign Up</button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Landing Page -->
    <section id="home" class="page active">
        <div class="hero">
            <div class="container">
                <h1>Start 75 Day Challenge - Strengthen Your Discipline</h1>
                <p>A daily program of 5 rules to build self-discipline habits - diet, two workouts (one outdoor), water, reading, daily photo.</p>
                <button class="cta-button" onclick="showPage('signup')">Start Now - Sign Up Free</button>
            </div>
        </div>

        <div class="features">
            <div class="container">
                <h2 class="section-title">App Features</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">üìä</div>
                        <h3>Dashboard</h3>
                        <p>Track your daily progress with an interactive dashboard showing your achievements and completion percentage.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üîî</div>
                        <h3>Smart Reminders</h3>
                        <p>Don't miss any task with the daily reminder system that alerts you to complete your tasks on time.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üì§</div>
                        <h3>Export Reports</h3>
                        <p>Get detailed reports of your progress in CSV and PDF formats to share or archive.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Page -->
    <section id="features" class="page">
        <div class="container">
            <h1 class="section-title">75Hard Challenge Features</h1>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üìä</div>
                    <h3>Comprehensive Dashboard</h3>
                    <p>Track your daily progress with an interactive dashboard showing your achievements and completion percentage visually and attractively.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîî</div>
                    <h3>Smart Reminders</h3>
                    <p>Don't miss any task with the daily reminder system that alerts you to complete your tasks on time.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üì§</div>
                    <h3>Export Reports</h3>
                    <p>Get detailed reports of your progress in CSV and PDF formats to share or archive.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üì±</div>
                    <h3>Responsive Interface</h3>
                    <p>Use the app on all devices from phones to desktop computers.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîí</div>
                    <h3>Data Protection</h3>
                    <p>Your data and photos are protected and encrypted, with advanced privacy options.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üåê</div>
                    <h3>Multi-language Support</h3>
                    <p>Use the app in Arabic or English according to your preferences.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Page -->
    <section id="faq" class="page">
        <div class="container">
            <h1 class="section-title">Frequently Asked Questions</h1>
            <div class="faq-list">
                <div class="faq-item">
                    <div class="faq-question">
                        <span>What is the goal of the 75 day challenge?</span>
                        <span>+</span>
                    </div>
                    <div class="faq-answer">
                        <p>The challenge aims to build self-discipline habits through commitment to five daily tasks for 75 consecutive days. The challenge helps you develop your ability to commit and improve your physical and mental health.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>What happens if I fail one day?</span>
                        <span>+</span>
                    </div>
                    <div class="faq-answer">
                        <p>If you activate the "Restart on Failure" option in settings, you will be returned to day one upon any rule violation. You can disable this option if you want to continue from where you left off.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Is the challenge suitable for beginners?</span>
                        <span>+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes, beginners can start the challenge by adjusting some tasks to suit their level, while maintaining the essence of the challenge which is daily commitment. We recommend starting gradually and increasing difficulty over time.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>How are completed days calculated?</span>
                        <span>+</span>
                    </div>
                    <div class="faq-answer">
                        <p>A day is considered complete when all five tasks are accomplished: diet, two workouts, drinking required water amount, reading, and uploading daily photo.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Can I modify previous days?</span>
                        <span>+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes, you can modify data for previous days, but "Manually Modified" mark will be placed to maintain challenge credibility.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Page -->
    <section id="contact" class="page">
        <div class="container">
            <h1 class="section-title">Contact Us</h1>
            <div class="features-grid">
                <div class="feature-card">
                    <h3>Contact Information</h3>
                    <p>Email: info@75hard.com</p>
                    <p>Phone: +966 123 456 789</p>
                    <p>Working Hours: 9:00 AM - 5:00 PM</p>
                </div>
                <div class="feature-card">
                    <h3>Important Links</h3>
                    <ul class="footer-links" style="color: var(--text-color);">
                        <li><a>Privacy Policy</a></li>
                        <li><a>Terms of Use</a></li>
                        <li><a>Technical Support</a></li>
                        <li><a>FAQ</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Login Page -->
    <section id="login" class="page">
        <div class="container">
            <div class="auth-container">
                <h2 class="auth-title">Login</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail">Email</label>
                        <input type="email" id="loginEmail" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" class="form-control" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
                </form>
                <div class="auth-divider">
                    <span>or</span>
                </div>
                <button class="btn-google">
                    <span>Login with Google</span>
                </button>
                <div class="auth-link">
                    <p>Don't have an account? <a onclick="showPage('signup')">Create Account</a></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Signup Page -->
    <section id="signup" class="page">
        <div class="container">
            <div class="auth-container">
                <h2 class="auth-title">Create Account</h2>
                <form id="signupForm">
                    <div class="form-group">
                        <label for="signupName">Full Name</label>
                        <input type="text" id="signupName" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="signupEmail">Email</label>
                        <input type="email" id="signupEmail" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="signupPassword">Password</label>
                        <input type="password" id="signupPassword" class="form-control" required minlength="8">
                        <small style="color: var(--light-text);">Password must contain at least 8 characters</small>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Create Account</button>
                </form>
                <div class="auth-divider">
                    <span>or</span>
                </div>
                <button class="btn-google">
                    <span>Sign up with Google</span>
                </button>
                <div class="auth-link">
                    <p>Already have an account? <a onclick="showPage('login')">Login</a></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Dashboard Page -->
    <section id="dashboard" class="page">
        <div class="container">
            <div id="startDateError" class="error-message hidden">
                <p>Challenge start date not set yet. Please set start date in <a href="#" onclick="showPage('settings')">Settings</a>.</p>
            </div>
            
            <div class="progress-card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                    <h2>Your Challenge Progress</h2>
                    <button class="go-to-today-btn" onclick="goToToday()">Go to Today</button>
                </div>
                <div class="progress-info" style="display: flex; justify-content: space-between;">
                    <span>Day <span id="currentDay">23</span> of 75</span>
                    <span><span id="progressPercentage">30.6</span>% Complete</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 30.6%"></div>
                </div>
                
                <h3 class="mt-2">Days Grid</h3>
                <div class="days-grid" id="daysGrid">
                    <!-- Days 1-75 will be generated here -->
                </div>
                
                <div class="dashboard-actions">
                    <button class="btn btn-outline">Export CSV</button>
                    <button class="btn btn-outline" onclick="showPage('reports')">Reports</button>
                    <button class="btn btn-outline" id="resetChallengeBtn">Reset Challenge</button>
                </div>
            </div>
            
            <div class="stats-grid">
                <!-- Statistics will be displayed here -->
            </div>
        </div>
    </section>

    <!-- Day View Page -->
    <section id="dayView" class="page">
        <div class="container">
            <div class="day-header">
                <h1 id="dayViewTitle">Day 23 - October 15, 2023</h1>
                <button class="btn btn-outline" onclick="showPage('dashboard')">Back to Dashboard</button>
            </div>
            
            <!-- Diet -->
            <div class="task-card">
                <div class="task-header">
                    <div class="task-title">Diet</div>
                    <div class="task-status">
                        <label class="toggle-switch">
                            <input type="checkbox" id="dietCheckbox">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="meal-list">
                    <div class="meal-item">
                        <div class="meal-info">
                            <label class="toggle-switch">
                                <input type="checkbox" id="breakfastCheckbox">
                                <span class="toggle-slider"></span>
                            </label>
                            <span>Breakfast</span>
                        </div>
                        <div class="meal-calories">
                            <input type="number" class="calories-input" id="breakfastCalories" placeholder="Calories">
                            <span>cal</span>
                        </div>
                    </div>
                    
                    <div class="meal-item">
                        <div class="meal-info">
                            <label class="toggle-switch">
                                <input type="checkbox" id="snack1Checkbox">
                                <span class="toggle-slider"></span>
                            </label>
                            <span>Snack</span>
                        </div>
                        <div class="meal-calories">
                            <input type="number" class="calories-input" id="snack1Calories" placeholder="Calories">
                            <span>cal</span>
                        </div>
                    </div>
                    
                    <div class="meal-item">
                        <div class="meal-info">
                            <label class="toggle-switch">
                                <input type="checkbox" id="lunchCheckbox">
                                <span class="toggle-slider"></span>
                            </label>
                            <span>Lunch</span>
                        </div>
                        <div class="meal-calories">
                            <input type="number" class="calories-input" id="lunchCalories" placeholder="Calories">
                            <span>cal</span>
                        </div>
                    </div>
                    
                    <div class="meal-item">
                        <div class="meal-info">
                            <label class="toggle-switch">
                                <input type="checkbox" id="snack2Checkbox">
                                <span class="toggle-slider"></span>
                            </label>
                            <span>Snack</span>
                        </div>
                        <div class="meal-calories">
                            <input type="number" class="calories-input" id="snack2Calories" placeholder="Calories">
                            <span>cal</span>
                        </div>
                    </div>
                    
                    <div class="meal-item">
                        <div class="meal-info">
                            <label class="toggle-switch">
                                <input type="checkbox" id="dinnerCheckbox">
                                <span class="toggle-slider"></span>
                            </label>
                            <span>Dinner</span>
                        </div>
                        <div class="meal-calories">
                            <input type="number" class="calories-input" id="dinnerCalories" placeholder="Calories">
                            <span>cal</span>
                        </div>
                    </div>
                </div>
                
                <div class="total-calories">
                    <span>Total Calories: </span>
                    <span id="totalCalories">0</span>
                    <span> cal</span>
                </div>
            </div>
            
            <!-- Indoor Workout -->
            <div class="task-card">
                <div class="task-header">
                    <div class="task-title">Indoor Workout (45 minutes)</div>
                    <div class="task-status">
                        <label class="toggle-switch">
                            <input type="checkbox" id="workout1Checkbox">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                <input type="text" class="form-control" placeholder="Workout type" id="workout1Input">
            </div>
            
            <!-- Outdoor Workout -->
            <div class="task-card">
                <div class="task-header">
                    <div class="task-title">Outdoor Workout (45 minutes)</div>
                    <div class="task-status">
                        <label class="toggle-switch">
                            <input type="checkbox" id="workout2Checkbox">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                <input type="text" class="form-control" placeholder="Workout type" id="workout2Input">
            </div>
            
            <!-- Water -->
            <div class="task-card">
                <div class="task-header">
                    <div class="task-title">Water</div>
                </div>
                
                <div class="water-bottles">
                    <div class="bottle-row">
                        <span class="bottle-icon">üíß</span>
                        <span>200 ml</span>
                        <button class="bottle-btn" onclick="addWater(200)">Drink</button>
                    </div>
                    
                    <div class="bottle-row">
                        <span class="bottle-icon">üíß</span>
                        <span>500 ml</span>
                        <button class="bottle-btn" onclick="addWater(500)">Drink</button>
                    </div>
                    
                    <div class="bottle-row">
                        <span class="bottle-icon">üíß</span>
                        <span>1000 ml</span>
                        <button class="bottle-btn" onclick="addWater(1000)">Drink</button>
                    </div>
                </div>
                
                <div class="water-target">
                    <span>Daily Goal: 3700 ml</span>
                    <div class="target-bottles" id="targetBottles">
                        <!-- ÿ≥Ÿäÿ™ŸÖ ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿ±ŸÖŸàÿ≤ ŸáŸÜÿß ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã -->
                    </div>
                </div>
                
                <div class="total-calories mt-1">
                    <span>Total Water Consumed: </span>
                    <span id="totalWater">0</span>
                    <span> ml</span>
                </div>
            </div>
            
            <!-- Reading -->
            <div class="task-card">
                <div class="task-header">
                    <div class="task-title">Reading</div>
                    <div class="task-status">
                        <label class="toggle-switch">
                            <input type="checkbox" id="readingCheckbox">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                <div class="reading-input-group">
                    <input type="number" class="pages-input" id="pagesInput" placeholder="Pages read">
                    <span>pages</span>
                </div>
            </div>
            
            <!-- Daily Photo -->
            <div class="task-card">
                <div class="task-header">
                    <div class="task-title">Daily Photo</div>
                    <div class="task-status">
                        <label class="toggle-switch">
                            <input type="checkbox" id="photoTakenCheckbox">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="photo-section">
                    <div class="photo-toggle">
                        <span>Was photo taken?</span>
                    </div>
                    
                    <div class="photo-upload" id="photoUploadArea">
                        <p>Click to upload photo or drag here</p>
                        <input type="file" id="photoInput" accept="image/*" style="display: none;">
                    </div>
                    
                    <div class="photo-preview-container" id="photoPreviewContainer" style="display: none;">
                        <img id="photoPreview" class="photo-preview" src="" alt="Photo preview">
                        <p class="text-center mt-1">Click on photo to view full size</p>
                    </div>
                </div>
            </div>
            
            <!-- Daily Tasks -->
            <div class="task-card">
                <div class="task-header">
                    <div class="task-title">Daily Tasks</div>
                </div>
                
                <div class="todo-list" id="todoList">
                    <!-- ÿ≥Ÿäÿ™ŸÖ ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿ£ÿπŸÖÿßŸÑ ŸáŸÜÿß -->
                </div>
                
                <div class="add-todo">
                    <input type="text" class="form-control" id="newTodoInput" placeholder="Add new task">
                    <button class="btn btn-primary btn-small" onclick="addTodo()">Add</button>
                </div>
            </div>
            
            <div class="day-actions">
                <button class="btn btn-primary" onclick="saveDayProgress()">Save Progress</button>
                <button class="btn btn-outline" id="resetDayBtn">Reset This Day</button>
            </div>
        </div>
    </section>

    <!-- Modal ŸÑŸÑÿµŸàÿ±ÿ© -->
    <div class="photo-modal" id="photoModal">
        <span class="close-modal" onclick="closePhotoModal()">&times;</span>
        <img id="modalImage" src="" alt="Full size photo">
    </div>

    <!-- ÿ®ÿßŸÇŸä ÿßŸÑÿµŸÅÿ≠ÿßÿ™ (Settings, Admin, Reports) -->
    <!-- ... -->

    <script>
        // ÿßŸÑŸÖÿ™ÿ∫Ÿäÿ±ÿßÿ™ ÿßŸÑÿπÿßŸÖÿ©
        let totalWater = 0;
        let waterGoal = 3700;
        let todos = [];
        let currentUser = null;

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize admin account
            initializeAdminAccount();
            
            // Check if user is logged in (for demo purposes)
            checkAuthStatus();
            
            // Load saved settings
            loadSettings();
            
            // Generate days grid for dashboard
            generateDaysGrid();
            
            // Set up event listeners
            setupEventListeners();
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÖÿ¨ŸÖŸàÿπ ÿßŸÑŸÉŸÑŸä ŸÑŸÑÿ≥ÿπÿ±ÿßÿ™
            setupCaloriesTracking();
            
            // ÿ•ÿπÿØÿßÿØ ÿ™ÿ™ÿ®ÿπ ÿßŸÑŸÖÿßÿ°
            setupWaterTracking();
            
            // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ÿπŸÖÿßŸÑ ÿßŸÑŸäŸàŸÖŸäÿ©
            loadTodos();
            
            // Load saved data
            loadDayData();
        });

        // Initialize admin account
        function initializeAdminAccount() {
            const adminAccount = {
                name: "Admin",
                email: "hshmk3@gmail.com",
                password: "Admin@1288",
                role: "admin",
                createdAt: new Date().toISOString()
            };
            
            // Check if admin account exists, if not create it
            const users = JSON.parse(localStorage.getItem('75hard_users') || '[]');
            const adminExists = users.some(user => user.email === adminAccount.email);
            
            if (!adminExists) {
                users.push(adminAccount);
                localStorage.setItem('75hard_users', JSON.stringify(users));
            }
        }

        // Page navigation function
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show the selected page
            document.getElementById(pageId).classList.add('active');
            
            // Special handling for dashboard pages (require login)
            if (['dashboard', 'dayView', 'settings', 'reports', 'adminUsers'].includes(pageId)) {
                if (!isLoggedIn()) {
                    showPage('login');
                    return;
                }
                
                // Check if start date is set for dashboard
                if (pageId === 'dashboard') {
                    checkStartDate();
                }
                
                // Load users for admin page
                if (pageId === 'adminUsers') {
                    loadUsersTable();
                }
            }
            
            // Scroll to top when changing pages
            window.scrollTo(0, 0);
        }

        // Check if user is logged in
        function isLoggedIn() {
            return localStorage.getItem('75hard_currentUser') !== null;
        }

        // Get current user
        function getCurrentUser() {
            const userStr = localStorage.getItem('75hard_currentUser');
            return userStr ? JSON.parse(userStr) : null;
        }

        // Check authentication status and show appropriate pages
        function checkAuthStatus() {
            const authButtons = document.getElementById('authButtons');
            const challengeLink = document.getElementById('challengeLink');
            const adminLink = document.getElementById('adminLink');
            
            if (isLoggedIn()) {
                const user = getCurrentUser();
                currentUser = user;
                const currentHour = new Date().getHours();
                const greeting = currentHour < 12 ? 'Good Morning' : 'Good Evening';
                
                authButtons.innerHTML = `
                    <div class="user-info">
                        <span class="user-greeting">${greeting}, ${user.name}</span>
                        <button class="btn btn-outline" onclick="showPage('settings')">Settings</button>
                        <button class="btn btn-outline" onclick="logout()">Logout</button>
                    </div>
                `;
                
                // Show challenge link for logged in users
                challengeLink.classList.remove('hidden');
                
                // Show admin link only for admin users
                if (user.role === 'admin') {
                    adminLink.classList.remove('hidden');
                } else {
                    adminLink.classList.add('hidden');
                }
            } else {
                authButtons.innerHTML = `
                    <button class="btn btn-outline" onclick="showPage('login')">Login</button>
                    <button class="btn btn-primary" onclick="showPage('signup')">Sign Up</button>
                `;
                
                // Hide challenge and admin links for non-logged in users
                challengeLink.classList.add('hidden');
                adminLink.classList.add('hidden');
            }
        }

        // Check if start date is set
        function checkStartDate() {
            const startDateError = document.getElementById('startDateError');
            const savedStartDate = localStorage.getItem('75hard_startDate');
            
            if (!savedStartDate) {
                startDateError.classList.remove('hidden');
            } else {
                startDateError.classList.add('hidden');
            }
        }

        // Generate days grid for dashboard
        function generateDaysGrid() {
            const daysGrid = document.getElementById('daysGrid');
            if (!daysGrid) return;
            
            daysGrid.innerHTML = '';
            
            const savedStartDate = localStorage.getItem('75hard_startDate');
            const startDate = savedStartDate ? new Date(savedStartDate) : new Date();
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            let currentDayNumber = 0;
            let completedDays = 0;
            
            for (let i = 1; i <= 75; i++) {
                const dayBox = document.createElement('div');
                dayBox.className = 'day-box';
                dayBox.onclick = () => showDayDetails(i);
                
                // Calculate date for this day
                const dayDate = new Date(startDate);
                dayDate.setDate(startDate.getDate() + i - 1);
                const formattedDate = dayDate.toLocaleDateString('en-US', {
                    day: 'numeric',
                    month: 'short'
                });
                
                // Check if this is the current day
                const isCurrentDay = dayDate.getTime() === today.getTime();
                if (isCurrentDay) {
                    dayBox.classList.add('day-current');
                    currentDayNumber = i;
                }
                
                // Determine day status based on date and completion
                const dayStatus = getDayStatus(i, dayDate, today);
                dayBox.classList.add(dayStatus.class);
                
                // Add emoji based on day status
                const emoji = getDayEmoji(dayStatus);
                
                // Create day content with task names and indicators
                dayBox.innerHTML = `
                    <div class="day-emoji">${emoji}</div>
                    <div class="day-number">${i}</div>
                    <div class="day-date">${formattedDate}</div>
                    <div class="day-tasks">
                        <div class="task-item" id="task-item-diet-${i}">
                            <span class="task-name">Diet</span>
                            <div class="task-indicator" id="task-diet-${i}"></div>
                        </div>
                        <div class="task-item" id="task-item-water-${i}">
                            <span class="task-name">Water</span>
                            <div class="task-indicator" id="task-water-${i}"></div>
                        </div>
                        <div class="task-item" id="task-item-workout1-${i}">
                            <span class="task-name">Workout 1</span>
                            <div class="task-indicator" id="task-workout1-${i}"></div>
                        </div>
                        <div class="task-item" id="task-item-workout2-${i}">
                            <span class="task-name">Workout 2</span>
                            <div class="task-indicator" id="task-workout2-${i}"></div>
                        </div>
                        <div class="task-item" id="task-item-reading-${i}">
                            <span class="task-name">Reading</span>
                            <div class="task-indicator" id="task-reading-${i}"></div>
                        </div>
                        <div class="task-item" id="task-item-photo-${i}">
                            <span class="task-name">Photo</span>
                            <div class="task-indicator" id="task-photo-${i}"></div>
                        </div>
                    </div>
                `;
                
                updateTaskIndicators(i, dayStatus.taskStatus, isCurrentDay);
                
                // Count completed days for progress calculation
                if (dayStatus.class === 'day-completed') {
                    completedDays++;
                }
                
                daysGrid.appendChild(dayBox);
            }
            
            // Update current day display
            document.getElementById('currentDay').textContent = currentDayNumber || 23;
            
            // Update progress percentage and bar
            const progressPercentage = ((completedDays / 75) * 100).toFixed(1);
            document.getElementById('progressPercentage').textContent = progressPercentage;
            document.getElementById('progressFill').style.width = `${progressPercentage}%`;
        }

        // Determine day status based on date and current day
        function getDayStatus(dayNumber, dayDate, today) {
            // If day is in the future
            if (dayDate > today) {
                return { class: 'day-pending', taskStatus: 'pending' };
            }
            
            // If day is today or in the past, generate random status for demo
            const status = Math.random();
            if (status < 0.7 && dayNumber <= 23) {
                return { class: 'day-completed', taskStatus: 'completed' };
            } else if (status < 0.85 && dayNumber <= 23) {
                return { class: 'day-partial', taskStatus: 'partial' };
            } else if (status < 0.9 && dayNumber <= 23) {
                return { class: 'day-failed', taskStatus: 'failed' };
            } else {
                return { class: 'day-pending', taskStatus: 'pending' };
            }
        }

        // Get emoji based on day status
        function getDayEmoji(dayStatus) {
            switch(dayStatus.class) {
                case 'day-completed':
                    return 'üòä';
                case 'day-partial':
                    return 'üòê';
                case 'day-failed':
                    return 'üòû';
                case 'day-current':
                    return 'üéØ';
                default:
                    return 'üìÖ';
            }
        }

        // Update task indicators based on day status
        function updateTaskIndicators(dayNumber, status, isCurrentDay) {
            const tasks = ['diet', 'water', 'workout1', 'workout2', 'reading', 'photo'];
            
            tasks.forEach(task => {
                const indicator = document.getElementById(`task-${task}-${dayNumber}`);
                const taskItem = document.getElementById(`task-item-${task}-${dayNumber}`);
                
                if (indicator && taskItem) {
                    if (status === 'completed') {
                        indicator.className = 'task-indicator task-completed';
                        taskItem.className = 'task-item task-item-completed';
                    } else if (status === 'partial') {
                        // Random partial completion for demo
                        const isCompleted = Math.random() > 0.5;
                        indicator.className = isCompleted ? 
                            'task-indicator task-completed' : 'task-indicator task-failed';
                        taskItem.className = isCompleted ? 
                            'task-item task-item-completed' : 'task-item task-item-failed';
                    } else if (status === 'failed') {
                        indicator.className = 'task-indicator task-failed';
                        taskItem.className = 'task-item task-item-failed';
                    } else if (isCurrentDay) {
                        // Today's tasks get yellow indicators
                        indicator.className = 'task-indicator task-today';
                        taskItem.className = 'task-item task-item-today';
                    } else {
                        indicator.className = 'task-indicator task-pending';
                        taskItem.className = 'task-item';
                    }
                }
            });
        }

        // Show day details
        function showDayDetails(dayNumber) {
            // Calculate date for this day
            const savedStartDate = localStorage.getItem('75hard_startDate');
            const startDate = savedStartDate ? new Date(savedStartDate) : new Date();
            const dayDate = new Date(startDate);
            dayDate.setDate(startDate.getDate() + dayNumber - 1);
            const formattedDate = dayDate.toLocaleDateString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            // Update day view title
            document.getElementById('dayViewTitle').textContent = `Day ${dayNumber} - ${formattedDate}`;
            
            // Load saved data for this day
            loadDayData(dayNumber);
            
            // Show the day view page
            showPage('dayView');
        }

        // Go to today's day
        function goToToday() {
            const savedStartDate = localStorage.getItem('75hard_startDate');
            if (!savedStartDate) {
                alert('Please set challenge start date first in Settings');
                showPage('settings');
                return;
            }
            
            const startDate = new Date(savedStartDate);
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            // Calculate which day number is today
            const diffTime = today - startDate;
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24)) + 1;
            
            if (diffDays >= 1 && diffDays <= 75) {
                showDayDetails(diffDays);
            } else {
                alert('Current day is outside challenge range (75 days)');
            }
        }

        // ÿ•ÿπÿØÿßÿØ ÿ™ÿ™ÿ®ÿπ ÿßŸÑÿ≥ÿπÿ±ÿßÿ™ ÿßŸÑÿ≠ÿ±ÿßÿ±Ÿäÿ©
        function setupCaloriesTracking() {
            const calorieInputs = [
                'breakfastCalories',
                'snack1Calories', 
                'lunchCalories',
                'snack2Calories',
                'dinnerCalories'
            ];
            
            calorieInputs.forEach(inputId => {
                const input = document.getElementById(inputId);
                if (input) {
                    input.addEventListener('input', updateTotalCalories);
                }
            });
            
            updateTotalCalories();
        }

        // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÖÿ¨ŸÖŸàÿπ ÿßŸÑŸÉŸÑŸä ŸÑŸÑÿ≥ÿπÿ±ÿßÿ™
        function updateTotalCalories() {
            let total = 0;
            const calorieInputs = [
                'breakfastCalories',
                'snack1Calories',
                'lunchCalories', 
                'snack2Calories',
                'dinnerCalories'
            ];
            
            calorieInputs.forEach(inputId => {
                const input = document.getElementById(inputId);
                if (input) {
                    const value = parseInt(input.value) || 0;
                    total += value;
                }
            });
            
            const totalCaloriesElement = document.getElementById('totalCalories');
            if (totalCaloriesElement) {
                totalCaloriesElement.textContent = total;
            }
        }

        // ÿ•ÿπÿØÿßÿØ ÿ™ÿ™ÿ®ÿπ ÿßŸÑŸÖÿßÿ°
        function setupWaterTracking() {
            updateWaterDisplay();
        }

        // ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿßÿ°
        function addWater(amount) {
            if (totalWater + amount <= waterGoal) {
                totalWater += amount;
                updateWaterDisplay();
                saveDayData();
            } else {
                alert('Cannot exceed daily water goal!');
            }
        }

        // ÿ™ÿ≠ÿØŸäÿ´ ÿπÿ±ÿ∂ ÿßŸÑŸÖÿßÿ°
        function updateWaterDisplay() {
            const totalWaterElement = document.getElementById('totalWater');
            if (totalWaterElement) {
                totalWaterElement.textContent = totalWater;
            }
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿπÿ±ÿ∂ ÿßŸÑÿπŸÑÿ® ÿßŸÑŸÖÿ≥ÿ™ŸáÿØŸÅÿ©
            const targetBottles = document.getElementById('targetBottles');
            if (targetBottles) {
                targetBottles.innerHTML = '';
                
                const bottlesNeeded = Math.ceil(waterGoal / 1000);
                for (let i = 0; i < bottlesNeeded; i++) {
                    const bottle = document.createElement('span');
                    bottle.className = 'target-bottle';
                    bottle.textContent = 'üíß';
                    targetBottles.appendChild(bottle);
                }
            }
        }

        // ÿ•ÿ∂ÿßŸÅÿ© ÿπŸÖŸÑ ÿ¨ÿØŸäÿØ
        function addTodo() {
            const input = document.getElementById('newTodoInput');
            const text = input.value.trim();
            
            if (text) {
                const todo = {
                    id: Date.now(),
                    text: text,
                    completed: false
                };
                
                todos.push(todo);
                renderTodos();
                input.value = '';
                saveDayData();
            }
        }

        // ÿ™ÿ®ÿØŸäŸÑ ÿ≠ÿßŸÑÿ© ÿßŸÑÿπŸÖŸÑ
        function toggleTodo(id) {
            const todo = todos.find(t => t.id === id);
            if (todo) {
                todo.completed = !todo.completed;
                renderTodos();
                saveDayData();
            }
        }

        // ÿ≠ÿ∞ŸÅ ÿπŸÖŸÑ
        function deleteTodo(id) {
            todos = todos.filter(t => t.id !== id);
            renderTodos();
            saveDayData();
        }

        // ÿπÿ±ÿ∂ ÿßŸÑÿ£ÿπŸÖÿßŸÑ
        function renderTodos() {
            const todoList = document.getElementById('todoList');
            if (!todoList) return;
            
            todoList.innerHTML = '';
            
            todos.forEach(todo => {
                const todoItem = document.createElement('div');
                todoItem.className = 'todo-item';
                
                todoItem.innerHTML = `
                    <div class="todo-content">
                        <label class="toggle-switch">
                            <input type="checkbox" ${todo.completed ? 'checked' : ''} onchange="toggleTodo(${todo.id})">
                            <span class="toggle-slider"></span>
                        </label>
                        <span class="todo-text" style="text-decoration: ${todo.completed ? 'line-through' : 'none'}; color: ${todo.completed ? '#777' : '#333'}">${todo.text}</span>
                    </div>
                    <div class="todo-actions">
                        <button class="btn btn-danger btn-small" onclick="deleteTodo(${todo.id})">Delete</button>
                    </div>
                `;
                
                todoList.appendChild(todoItem);
            });
        }

        // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ÿπŸÖÿßŸÑ ŸÖŸÜ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ
        function loadTodos() {
            const savedTodos = localStorage.getItem('75hard_todos');
            if (savedTodos) {
                todos = JSON.parse(savedTodos);
                renderTodos();
            }
        }

        // ÿ≠ŸÅÿ∏ ÿßŸÑÿ£ÿπŸÖÿßŸÑ ŸÅŸä ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ
        function saveTodos() {
            localStorage.setItem('75hard_todos', JSON.stringify(todos));
        }

        // ÿπÿ±ÿ∂ ÿßŸÑÿµŸàÿ±ÿ© ŸÅŸä ÿßŸÑŸÖŸàÿØÿßŸÑ
        function openPhotoModal(src) {
            document.getElementById('modalImage').src = src;
            document.getElementById('photoModal').style.display = 'flex';
        }

        // ÿ•ÿ∫ŸÑÿßŸÇ ŸÖŸàÿØÿßŸÑ ÿßŸÑÿµŸàÿ±ÿ©
        function closePhotoModal() {
            document.getElementById('photoModal').style.display = 'none';
        }

        // ÿ≠ŸÅÿ∏ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸäŸàŸÖ
        function saveDayData(dayNumber = null) {
            if (!currentUser) return;
            
            const dayData = {
                diet: {
                    completed: document.getElementById('dietCheckbox')?.checked || false,
                    meals: {
                        breakfast: {
                            completed: document.getElementById('breakfastCheckbox')?.checked || false,
                            calories: parseInt(document.getElementById('breakfastCalories')?.value) || 0
                        },
                        snack1: {
                            completed: document.getElementById('snack1Checkbox')?.checked || false,
                            calories: parseInt(document.getElementById('snack1Calories')?.value) || 0
                        },
                        lunch: {
                            completed: document.getElementById('lunchCheckbox')?.checked || false,
                            calories: parseInt(document.getElementById('lunchCalories')?.value) || 0
                        },
                        snack2: {
                            completed: document.getElementById('snack2Checkbox')?.checked || false,
                            calories: parseInt(document.getElementById('snack2Calories')?.value) || 0
                        },
                        dinner: {
                            completed: document.getElementById('dinnerCheckbox')?.checked || false,
                            calories: parseInt(document.getElementById('dinnerCalories')?.value) || 0
                        }
                    }
                },
                workouts: {
                    indoor: {
                        completed: document.getElementById('workout1Checkbox')?.checked || false,
                        type: document.getElementById('workout1Input')?.value || ''
                    },
                    outdoor: {
                        completed: document.getElementById('workout2Checkbox')?.checked || false,
                        type: document.getElementById('workout2Input')?.value || ''
                    }
                },
                water: totalWater,
                reading: {
                    completed: document.getElementById('readingCheckbox')?.checked || false,
                    pages: parseInt(document.getElementById('pagesInput')?.value) || 0
                },
                photo: {
                    taken: document.getElementById('photoTakenCheckbox')?.checked || false,
                    // Note: Image data would need special handling for persistence
                },
                todos: todos
            };
            
            // Save to localStorage with user-specific key
            const userEmail = currentUser.email;
            const dayKey = dayNumber ? `75hard_${userEmail}_day${dayNumber}` : `75hard_${userEmail}_currentDay`;
            localStorage.setItem(dayKey, JSON.stringify(dayData));
        }

        // ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸäŸàŸÖ
        function loadDayData(dayNumber = null) {
            if (!currentUser) return;
            
            const userEmail = currentUser.email;
            const dayKey = dayNumber ? `75hard_${userEmail}_day${dayNumber}` : `75hard_${userEmail}_currentDay`;
            const savedData = localStorage.getItem(dayKey);
            
            if (savedData) {
                const dayData = JSON.parse(savedData);
                
                // Load diet data
                if (dayData.diet) {
                    document.getElementById('dietCheckbox').checked = dayData.diet.completed || false;
                    
                    if (dayData.diet.meals) {
                        document.getElementById('breakfastCheckbox').checked = dayData.diet.meals.breakfast.completed || false;
                        document.getElementById('breakfastCalories').value = dayData.diet.meals.breakfast.calories || 0;
                        
                        document.getElementById('snack1Checkbox').checked = dayData.diet.meals.snack1.completed || false;
                        document.getElementById('snack1Calories').value = dayData.diet.meals.snack1.calories || 0;
                        
                        document.getElementById('lunchCheckbox').checked = dayData.diet.meals.lunch.completed || false;
                        document.getElementById('lunchCalories').value = dayData.diet.meals.lunch.calories || 0;
                        
                        document.getElementById('snack2Checkbox').checked = dayData.diet.meals.snack2.completed || false;
                        document.getElementById('snack2Calories').value = dayData.diet.meals.snack2.calories || 0;
                        
                        document.getElementById('dinnerCheckbox').checked = dayData.diet.meals.dinner.completed || false;
                        document.getElementById('dinnerCalories').value = dayData.diet.meals.dinner.calories || 0;
                    }
                }
                
                // Load workout data
                if (dayData.workouts) {
                    document.getElementById('workout1Checkbox').checked = dayData.workouts.indoor.completed || false;
                    document.getElementById('workout1Input').value = dayData.workouts.indoor.type || '';
                    
                    document.getElementById('workout2Checkbox').checked = dayData.workouts.outdoor.completed || false;
                    document.getElementById('workout2Input').value = dayData.workouts.outdoor.type || '';
                }
                
                // Load water data
                if (dayData.water) {
                    totalWater = dayData.water;
                    updateWaterDisplay();
                }
                
                // Load reading data
                if (dayData.reading) {
                    document.getElementById('readingCheckbox').checked = dayData.reading.completed || false;
                    document.getElementById('pagesInput').value = dayData.reading.pages || 0;
                }
                
                // Load photo data
                if (dayData.photo) {
                    document.getElementById('photoTakenCheckbox').checked = dayData.photo.taken || false;
                }
                
                // Load todos
                if (dayData.todos) {
                    todos = dayData.todos;
                    renderTodos();
                }
                
                updateTotalCalories();
            }
        }

        // ÿ≠ŸÅÿ∏ ÿ™ŸÇÿØŸÖ ÿßŸÑŸäŸàŸÖ
        function saveDayProgress() {
            // ÿ≠ŸÅÿ∏ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸäŸàŸÖ
            saveDayData();
            
            alert('Day progress saved successfully!');
            showPage('dashboard');
        }

        // Setup event listeners
        function setupEventListeners() {
            // FAQ toggle
            document.querySelectorAll('.faq-question').forEach(question => {
                question.addEventListener('click', () => {
                    const answer = question.nextElementSibling;
                    answer.classList.toggle('active');
                    
                    // Toggle icon
                    const icon = question.querySelector('span:last-child');
                    icon.textContent = answer.classList.contains('active') ? '-' : '+';
                });
            });

            // Photo upload
            const photoUploadArea = document.getElementById('photoUploadArea');
            const photoInput = document.getElementById('photoInput');
            const photoPreview = document.getElementById('photoPreview');
            const photoPreviewContainer = document.getElementById('photoPreviewContainer');

            if (photoUploadArea && photoInput) {
                photoUploadArea.addEventListener('click', () => {
                    photoInput.click();
                });

                photoInput.addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            photoPreview.src = e.target.result;
                            photoPreviewContainer.style.display = 'block';
                        };
                        reader.readAsDataURL(file);
                    }
                });

                // ŸÅÿ™ÿ≠ ÿßŸÑÿµŸàÿ±ÿ© ÿ®ÿßŸÑÿ≠ÿ¨ŸÖ ÿßŸÑŸÉÿßŸÖŸÑ
                if (photoPreview) {
                    photoPreview.addEventListener('click', () => {
                        openPhotoModal(photoPreview.src);
                    });
                }
            }

            // Login form
            const loginForm = document.getElementById('loginForm');
            if (loginForm) {
                loginForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const email = document.getElementById('loginEmail').value;
                    const password = document.getElementById('loginPassword').value;
                    
                    // Validate login credentials
                    const users = JSON.parse(localStorage.getItem('75hard_users') || '[]');
                    const user = users.find(u => u.email === email && u.password === password);
                    
                    if (user) {
                        localStorage.setItem('75hard_currentUser', JSON.stringify(user));
                        currentUser = user;
                        checkAuthStatus();
                        showPage('dashboard');
                        alert('Login successful!');
                    } else {
                        alert('Incorrect email or password');
                    }
                });
            }

            // Signup form
            const signupForm = document.getElementById('signupForm');
            if (signupForm) {
                signupForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const name = document.getElementById('signupName').value;
                    const email = document.getElementById('signupEmail').value;
                    const password = document.getElementById('signupPassword').value;
                    
                    // Check if user already exists
                    const users = JSON.parse(localStorage.getItem('75hard_users') || '[]');
                    const userExists = users.some(user => user.email === email);
                    
                    if (userExists) {
                        alert('This email is already registered');
                        return;
                    }
                    
                    // Create new user
                    const newUser = {
                        name: name,
                        email: email,
                        password: password,
                        role: 'user',
                        createdAt: new Date().toISOString()
                    };
                    
                    users.push(newUser);
                    localStorage.setItem('75hard_users', JSON.stringify(users));
                    localStorage.setItem('75hard_currentUser', JSON.stringify(newUser));
                    currentUser = newUser;
                    
                    checkAuthStatus();
                    showPage('dashboard');
                    alert('Account created successfully!');
                });
            }

            // Reset challenge button
            const resetChallengeBtn = document.getElementById('resetChallengeBtn');
            if (resetChallengeBtn) {
                resetChallengeBtn.addEventListener('click', () => {
                    if (confirm('Warning: Reset will delete all progress data. Are you sure?')) {
                        // Clear all user-specific data
                        if (currentUser) {
                            const userEmail = currentUser.email;
                            for (let i = 1; i <= 75; i++) {
                                localStorage.removeItem(`75hard_${userEmail}_day${i}`);
                            }
                            localStorage.removeItem(`75hard_${userEmail}_currentDay`);
                        }
                        
                        alert('Challenge reset successfully!');
                        generateDaysGrid(); // Regenerate with initial state
                    }
                });
            }

            // Reset day button
            const resetDayBtn = document.getElementById('resetDayBtn');
            if (resetDayBtn) {
                resetDayBtn.addEventListener('click', () => {
                    if (confirm('Do you want to reset this day? All data for this day will be cleared.')) {
                        // Reset all inputs for the day
                        document.getElementById('dietCheckbox').checked = false;
                        document.getElementById('workout1Checkbox').checked = false;
                        document.getElementById('workout2Checkbox').checked = false;
                        document.getElementById('waterInput').value = '0';
                        document.getElementById('readingCheckbox').checked = false;
                        document.getElementById('photoPreview').style.display = 'none';
                        document.getElementById('notesTextarea').value = '';
                        
                        // Reset meal checkboxes and calories
                        const mealCheckboxes = [
                            'breakfastCheckbox', 'snack1Checkbox', 'lunchCheckbox', 
                            'snack2Checkbox', 'dinnerCheckbox'
                        ];
                        const calorieInputs = [
                            'breakfastCalories', 'snack1Calories', 'lunchCalories',
                            'snack2Calories', 'dinnerCalories'
                        ];
                        
                        mealCheckboxes.forEach(id => {
                            document.getElementById(id).checked = false;
                        });
                        
                        calorieInputs.forEach(id => {
                            document.getElementById(id).value = '';
                        });
                        
                        // Reset water
                        totalWater = 0;
                        updateWaterDisplay();
                        
                        // Reset todos
                        todos = [];
                        renderTodos();
                        
                        // Save the reset state
                        saveDayData();
                        
                        alert('Day reset successfully!');
                    }
                });
            }

            // Auto-save when inputs change
            const autoSaveInputs = [
                'dietCheckbox', 'breakfastCheckbox', 'snack1Checkbox', 'lunchCheckbox',
                'snack2Checkbox', 'dinnerCheckbox', 'workout1Checkbox', 'workout2Checkbox',
                'readingCheckbox', 'photoTakenCheckbox', 'pagesInput'
            ];
            
            autoSaveInputs.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('change', () => {
                        saveDayData();
                    });
                }
            });
            
            const autoSaveTextInputs = [
                'workout1Input', 'workout2Input', 'breakfastCalories', 'snack1Calories',
                'lunchCalories', 'snack2Calories', 'dinnerCalories'
            ];
            
            autoSaveTextInputs.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('input', () => {
                        saveDayData();
                    });
                }
            });
        }

        // Logout function
        function logout() {
            localStorage.removeItem('75hard_currentUser');
            currentUser = null;
            checkAuthStatus();
            showPage('home');
            alert('Logged out successfully!');
        }

        // Load settings from localStorage
        function loadSettings() {
            // Load start date
            const savedStartDate = localStorage.getItem('75hard_startDate');
            if (savedStartDate) {
                document.getElementById('startDate').value = savedStartDate;
            }
            
            // Load account settings
            const currentUser = getCurrentUser();
            if (currentUser) {
                document.getElementById('userName').value = currentUser.name;
                document.getElementById('userEmail').value = currentUser.email;
            }
        }

        // Update start date
        function updateStartDate() {
            const startDate = document.getElementById('startDate').value;
            if (startDate) {
                // Save to localStorage
                localStorage.setItem('75hard_startDate', startDate);
                generateDaysGrid();
                alert('Challenge start date updated successfully!');
            } else {
                alert('Please choose challenge start date');
            }
        }

        // Load users table for admin
        function loadUsersTable() {
            const usersTableBody = document.getElementById('usersTableBody');
            if (!usersTableBody) return;
            
            const users = JSON.parse(localStorage.getItem('75hard_users') || '[]');
            const currentUser = getCurrentUser();
            
            usersTableBody.innerHTML = '';
            
            users.forEach(user => {
                // Don't show current user in the list
                if (user.email === currentUser.email) return;
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${user.name}</td>
                    <td>${user.email}</td>
                    <td>${new Date(user.createdAt).toLocaleDateString('en-US')}</td>
                    <td class="user-actions">
                        <button class="btn-danger" onclick="deleteUser('${user.email}')">Delete</button>
                    </td>
                `;
                
                usersTableBody.appendChild(row);
            });
        }

        // Delete user (admin only)
        function deleteUser(email) {
            if (!confirm('Are you sure you want to delete this user?')) return;
            
            const users = JSON.parse(localStorage.getItem('75hard_users') || '[]');
            const updatedUsers = users.filter(user => user.email !== email);
            
            localStorage.setItem('75hard_users', JSON.stringify(updatedUsers));
            
            // Reload users table
            loadUsersTable();
            
            alert('User deleted successfully!');
        }
    </script>
</body>
</html>
